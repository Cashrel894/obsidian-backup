#CS61C 
![[../../附件/Pasted image 20251002095449.png]]

事实上，Loader 就是操作系统：
- 它在一个新创建的内存空间中加载程序。
	- 先读取可执行文件的 header，获取 text、data 字段的大小，并依此创建空间 （[[Memory Locations]]）。
	- 读取指令和数据并存储在新空间中。
	- 将传递给程序的参数都存储在栈中。
- 初始化寄存器。
	- 将大部分寄存器清空。
	- 将 sp 指向栈底的地址。
- 开始执行：
	- 将程序参数从栈复制到寄存器中，并设置好 PC。
	- 如果 main 返回，就用 exit system call 终止程序。