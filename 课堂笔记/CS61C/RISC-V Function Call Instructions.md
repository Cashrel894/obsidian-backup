#CS61C 
汇编程序将如何实现 C 语言的函数功能？

调用函数的一般步骤：
1. 将参数存储在函数可以访问的地方
2. 移动到函数体开头的指令
3. 为函数申请必要的内存资源
4. 执行指令
5. 将返回值存储在调用函数处的指令可以访问的地方，恢复所使用的寄存器，并释放局部内存资源。
6. 返回调用函数处的指令。

按照惯例，有一些专门为函数调用保留的寄存器：
- `a0-a7 (x10-x17)`：八个参数寄存器，用于传递参数和两个返回值（`a0` 和 `a1`）
- `ra`：用于存储函数返回时应跳转到的地址。
- `s0-s1 (x8-x9)` 和 `s2-s11 (x18-x27)`：保留寄存器，根据 [[Register Conventions]]，这些寄存器的值在调用函数前后不会改变。

同时，我们还有一些对于实现函数有用的指令：
- `jr reg`：跳转到 `reg` 所指向的地址。
- `jal reg, func`：Jump And Link。作用是将下一条指令的地址存入 `reg`，并跳转到 `func`。
- `jalr rd, rs, imm`：将下一条指令的地址存入 `rd`，并跳转到 `rs+imm` 处。
- `ret`：等效于 `jr ra`

实际上，在 RISC-V 中， `j` 和 `jr` 都是伪代码，实际存在的只有 `jal` 和 `jalr`：
- `j LABEL` ：`jal x0, LABEL`
- `jr reg`：`jalr x0, reg, 0`
