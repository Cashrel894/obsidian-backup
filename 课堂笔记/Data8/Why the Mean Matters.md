#Data8 
## Means, Variance and Standard Deviation
**如果两组数据具有相同的分布，那么两组数据的平均值也相等。**

**如果将直方图看作重物，x 轴看作杠杆，那么平均值就是整个杠杆得以平衡的支点。或者也可以说，平均值是直方图的重心所对应的 x 值。**

一般而言，**如果直方图在某一侧显现出“长尾”（即“偏斜数据”），那么平均值将从中位数往“长尾”的方向偏斜。**

***离差(Deviation)***：某个数据值与全体数据平均值的差，可正可负。
***方差(Variance)***：全体数据的离差的平方的平均值。
***标准差(Standard Deviation)***：方差的算术平方根。
***标准单位(Standard Units)***：$\displaystyle \frac{数据值-均值}{标准差}$。常用于数据的中心化处理。

一般来说，一组数据的范围不会超出 **平均值 $\displaystyle \pm$ 标准差 * 3** 。


***切比雪夫定理***：对于任意数据，以及任意的正实数 $\displaystyle z$，落在 **平均值 $\displaystyle \pm$ 标准差 * $\displaystyle z$** 的元素至少占比 $\displaystyle 1-\frac{1}{z^{2}}$。

## The Normal Distribution
对于***钟型分布***而言，一个标准差就是其**平均值**到其曲线任意一侧**拐点**的距离，这种分布也被称为**正态分布(Normal Distribution)**。

而如果将数据中心化，使得平均值变为 0，再取一个标准差为单位，那么所得到的分布即为***标准正态分布(Standard Normal Distribution)***。![[../../附件/Pasted image 20251221224827.png]]

标准正态曲线有如下性质：
1. 标准正态曲线下的总面积为 1。
2. 标准正态曲线关于 0 对称。
3. 标准正态曲线的拐点为 -1 和 1。

```python
from scipy import stats

stats.norm.cdf(t) # 计算标准正态曲线在直线x=t左侧的面积；又称标准正态曲线的累积分布函数
```

正态分布的**一倍标准差**范围占 **68%**，**两倍标准差**占 **95%**，**三倍标准差**占 **99.73%**。

***当试验次数 N 很大时，二项分布曲线总是趋近于正态分布曲线。***

***中心极限定理(Central Limit Theorem)***：对于任意分布，有放回的、足够大的随机样本的**平均值/总和**的分布总是趋近于正态分布。

***平方根法则(The Square Root Law)***：**样本平均值的标准差**与**样本量的平方根**成反比，反比例系数为**总体的标准差**。注意：与总体的数据量无关。

## Choosing a Sample Size
假设：
1. 总体的数据只由 0 和 1 组成。（例：是否投给某个候选人）
2. 估计 1 占总体的比例，要求至少 95% 置信度。（例：某个候选人的支持率）
3. 置信区间的宽度不超过 1%。
求：
- 应当抽取的样本量。（例：应当调查多少人的投票意愿）
解：
根据***中心极限定理***，取样得到的比例的分布趋近于正态分布。置信区间为中心的 95%，而这**恰好等于均值的两倍标准差范围**。因此，置信区间的宽度为 **4 倍的样本标准差**。

而根据***平方根法则***，样本比例分布的均值为总体的比例，标准差为总体的标准差除以样本量的平方根。故可以列出方程：
$\displaystyle 置信区间的宽度=4*样本的标准差= 4 * \frac{ 总体的标准差 }{\sqrt{ 样本量 }}<= 0.01$
那么总体的标准差又是多少呢？虽然我们无法给出准确的值，但我们可以给出一个上界：![[../../附件/Pasted image 20251223115728.png]]

可以证明，总体的标准差在 0 和 1 各占 50%时取到最大值 0.5。

带入方程，计算可得 $\displaystyle 样本量\geq 40000$。