用"$VAR"来获取变量 VAR 的值。
![[../../附件/Pasted image 20250731100708.png]]

## 表达式运算
[[Bash]] 中的变量都是字符串，不能直接参与运算。
![[../../附件/Pasted image 20250731101055.png]]

但可以用 expr 指令计算表达式的值。
![[../../附件/Pasted image 20250731101047.png]]

## 用户输入
使用 read 指令。用-p 显示提示词。
![[../../附件/Pasted image 20250731101206.png]]

## 命令替换
$(cmd) 可以运行 cmd，并将结果替换入脚本。
![[../../附件/Pasted image 20250731101356.png]]

# 进程替换
<(cmd) 会执行 cmd 并将结果输出到一个临时文件中，并将其替换为临时文件的名称。
```bash
diff <(ls foo) <(ls bar)
```

## 特殊变量
- `$0` - 脚本名
- `$1` 到 `$9` - 脚本的参数。 `$1` 是第一个参数，依此类推。
- `$@` - 所有参数
- `$#` - 参数个数
- `$?` - 前一个命令的返回值
- `$$` - 当前脚本的进程识别码
- `!!` - 完整的上一条命令，包括参数。常见应用：当你因为权限不足执行命令失败时，可以使用 `sudo !!` 再尝试一次。
- `$_` - 上一条命令的最后一个参数。如果你正在使用的是交互式 shell，你可以通过按下 `Esc` 之后键入 . 来获取这个值。

## 通配
\*表示匹配任意数量的任意字符，而? 则表示匹配恰好一个任意字符。
例：对于文件 foo, foo1, foo2, foo10 和 bar，foo? 匹配 foo1 和 foo2，而 foo\*匹配除了 bar 以外所有文件。

{}包裹的串可被自动展开，如：
image.{png, jpg} 等价于 image.png image.jpg
多个{}可以组合使用，如{photo, picture}.{png, jpg}。
